{
  "category": "Anomaly Detection",
  "content": "from hetdesrun.component.registration import register\nfrom hetdesrun.datatypes import DataType  # add your own imports here\n\n\nfrom sklearn.ensemble import IsolationForest\nimport pandas as pd\n\n\n# ***** DO NOT EDIT LINES BELOW *****\n# These lines may be overwritten if component details or inputs/outputs change.\n@register(\n    inputs={\"n_estimators\": DataType.Integer, \"test_data\": DataType.DataFrame, \"train_data\": DataType.DataFrame},\n    outputs={\"trained_model\": DataType.Any, \"decision_function_values\": DataType.Series},\n    component_name=\"Isolation Forest\",\n    description=\"A Isolation Forest Model\",\n    category=\"Anomaly Detection\",\n    uuid=\"cdec1d55-5bb6-8e8d-4571-fbc0ebf5a354\",\n    group_id=\"cdec1d55-5bb6-8e8d-4571-fbc0ebf5a354\",\n    tag=\"1.0.0\"\n)\ndef main(*, n_estimators, test_data, train_data):\n    # entrypoint function for this component\n    # ***** DO NOT EDIT LINES ABOVE *****\n    # write your function code here.\n\n    iso_forest = IsolationForest(n_jobs=-1, n_estimators=n_estimators)\n    iso_forest.fit(train_data)\n\n    dec_vals = pd.Series(iso_forest.decision_function(test_data), index=test_data.index)\n\n    return {\"decision_function_values\": dec_vals, \"trained_model\": iso_forest}\n\n",
  "description": "A Isolation Forest Model",
  "documentation": "# Isolation Forest\n\n## Description\nA simple Isolation Forest Model.\n\n## Inputs\n* **n_estimators** (int): The number of base estimators in the ensemble.\n* **train_data** (Pandas DataFrame): The training data set.\n* **test_data** (Pandas DataFrame): A test data set on which the trained model is applied immediately. \n\n## Outputs\n* **trained_model** (sklearn Isolation Forest instance): The trained model. This object can be stored and loaded in another workflow.\n* **decision_function_values** (Pandas Series): The decision function values of the model applied to the test data.\n\n## Details\nIsolation Forest from sklearn.\n\n## Examples\nThe json input of a typical call of this component is\n```\n{\n\t\"n_estimators\": 100,\n\t\"train_data\": {\n\t\t\"0\": 1.4926660699,\n\t\t\"1\": 1.4486349492,\n\t\t\"2\": 1.5450470794,\n\t\t\"3\": 1.776656204,\n\t\t\"4\": 1.2505807659,\n\t\t\"5\": 1.6015711927,\n\t\t\"6\": 1.6289885968,\n\t\t\"7\": 1.3396458715,\n\t\t\"8\": 1.584027853,\n\t\t\"9\": 1.5086498128,\n\t\t\"10\": 1.3082738461,\n\t\t\"11\": 1.3551707245,\n\t\t\"12\": 1.3047677269,\n\t\t\"13\": 1.1957268597,\n\t\t\"14\": 1.589771313,\n\t\t\"15\": 1.4559757939,\n\t\t\"16\": 1.5915332444,\n\t\t\"17\": 1.0671794303,\n\t\t\"18\": 1.432818479,\n\t\t\"19\": 1.4300797641,\n\t\t\"20\": 1.3715935639,\n\t\t\"21\": 1.3572668951,\n\t\t\"22\": 1.0734477529,\n\t\t\"23\": 1.3622193297,\n\t\t\"24\": 1.4287684992,\n\t\t\"25\": 1.2215251242,\n\t\t\"26\": 1.3652527468,\n\t\t\"27\": 1.1973235753,\n\t\t\"28\": 1.7253995801,\n\t\t\"29\": 1.2580476039,\n\t\t\"30\": 1.0545478427,\n\t\t\"31\": 1.0117721362,\n\t\t\"32\": 1.1578791663,\n\t\t\"33\": 1.4706967921,\n\t\t\"34\": 1.5886736947,\n\t\t\"35\": 1.1851616194,\n\t\t\"36\": 1.2706084302,\n\t\t\"37\": 1.22543923,\n\t\t\"38\": 1.7309807976,\n\t\t\"39\": 1.5866646984,\n\t\t\"40\": 1.5077532977,\n\t\t\"41\": 1.4359288381,\n\t\t\"42\": 1.7056115478,\n\t\t\"43\": 1.0703683588,\n\t\t\"44\": 1.2913088978,\n\t\t\"45\": 1.6538359777,\n\t\t\"46\": 1.4408159436,\n\t\t\"47\": 1.1711791235,\n\t\t\"48\": 1.5256179052,\n\t\t\"49\": 1.3187467931,\n\t\t\"50\": 1.1115703,\n\t\t\"51\": 1.4046511263,\n\t\t\"52\": 1.4403180152,\n\t\t\"53\": 1.5672974594,\n\t\t\"54\": 1.1779609522,\n\t\t\"55\": 1.5797056641,\n\t\t\"56\": 1.4524569179,\n\t\t\"57\": 1.4070450575,\n\t\t\"58\": 1.5290660426,\n\t\t\"59\": 1.3120717628,\n\t\t\"60\": 1.3453596376,\n\t\t\"61\": 1.2316969297,\n\t\t\"62\": 1.6378821897,\n\t\t\"63\": 1.2760642118,\n\t\t\"64\": 1.4956937624,\n\t\t\"65\": 1.4929910048,\n\t\t\"66\": 1.3738941343,\n\t\t\"67\": 1.5852288325,\n\t\t\"68\": 0.9717649741,\n\t\t\"69\": 1.6427129664,\n\t\t\"70\": 1.2175972616,\n\t\t\"71\": 1.2979690188,\n\t\t\"72\": 1.7029654725,\n\t\t\"73\": 1.378315634,\n\t\t\"74\": 1.4904271716,\n\t\t\"75\": 1.5066028189,\n\t\t\"76\": 1.3945879926,\n\t\t\"77\": 1.4913153696,\n\t\t\"78\": 1.4618294119,\n\t\t\"79\": 1.1675132196,\n\t\t\"80\": 1.2606787057,\n\t\t\"81\": 1.6244382896,\n\t\t\"82\": 1.6646727012,\n\t\t\"83\": 1.4031978084,\n\t\t\"84\": 1.5277458348,\n\t\t\"85\": 1.3607462888,\n\t\t\"86\": 1.129613468,\n\t\t\"87\": 1.2690961303,\n\t\t\"88\": 1.3087356812,\n\t\t\"89\": 1.3779695334,\n\t\t\"90\": 1.6356347978,\n\t\t\"91\": 1.45676668,\n\t\t\"92\": 1.4339967622,\n\t\t\"93\": 1.5791665539,\n\t\t\"94\": 1.4127552469,\n\t\t\"95\": 1.5778551374,\n\t\t\"96\": 1.4546758127,\n\t\t\"97\": 1.1843789384,\n\t\t\"98\": 1.4510047706,\n\t\t\"99\": 1.2788758327,\n\t\t\"100\": 0.3750956282,\n\t\t\"101\": -0.348332961,\n\t\t\"102\": 1.1273700108,\n\t\t\"103\": -0.5828114497,\n\t\t\"104\": -0.6019201001,\n\t\t\"105\": 0.1459754345,\n\t\t\"106\": 0.4926503544,\n\t\t\"107\": 0.2154680857,\n\t\t\"108\": -0.2551963406,\n\t\t\"109\": -0.0021394574,\n\t\t\"110\": 0.803016169,\n\t\t\"111\": -0.3932162493,\n\t\t\"112\": 0.0443088352,\n\t\t\"113\": 0.7563416189,\n\t\t\"114\": 0.2806832923,\n\t\t\"115\": -0.0820868678,\n\t\t\"116\": 0.6539103775,\n\t\t\"117\": 0.6807191115,\n\t\t\"118\": 0.6344428224,\n\t\t\"119\": 0.6345290121,\n\t\t\"120\": 0.2538398248,\n\t\t\"121\": 0.0901253052,\n\t\t\"122\": 0.5408800137,\n\t\t\"123\": -0.3640374072,\n\t\t\"124\": 0.2546865562,\n\t\t\"125\": -0.7150082477,\n\t\t\"126\": -0.2621021415,\n\t\t\"127\": -0.3699787618,\n\t\t\"128\": 0.0209162847,\n\t\t\"129\": -0.2729625202,\n\t\t\"130\": 0.416004053,\n\t\t\"131\": -0.2833210194,\n\t\t\"132\": 0.0460272259,\n\t\t\"133\": 0.4255764332,\n\t\t\"134\": 0.0752196307,\n\t\t\"135\": -0.1529583948,\n\t\t\"136\": 0.4238010375,\n\t\t\"137\": 0.0456235429,\n\t\t\"138\": 0.0527215759,\n\t\t\"139\": 0.6908365451,\n\t\t\"140\": -0.2992636577,\n\t\t\"141\": 0.0731327305,\n\t\t\"142\": -0.4644478508,\n\t\t\"143\": 0.1617790151,\n\t\t\"144\": 0.3986000441,\n\t\t\"145\": -0.4138682181,\n\t\t\"146\": 0.0309860526,\n\t\t\"147\": 0.1825449262,\n\t\t\"148\": 0.5308633933,\n\t\t\"149\": 0.590488114\n\t},\n\t\"test_data\": {\n\t\t\"0\": 2.0918517167,\n\t\t\"1\": 1.6351422204,\n\t\t\"2\": 1.8909793726,\n\t\t\"3\": 2.4315905044,\n\t\t\"4\": 1.2556615935,\n\t\t\"5\": 2.5702117298,\n\t\t\"6\": 1.828156926,\n\t\t\"7\": 1.6570902517,\n\t\t\"8\": 1.7755659202,\n\t\t\"9\": 2.0584771141,\n\t\t\"10\": 1.1923644451,\n\t\t\"11\": 1.3875187648,\n\t\t\"12\": 1.336018039,\n\t\t\"13\": 1.1558574253,\n\t\t\"14\": 1.9366961319,\n\t\t\"15\": 2.209024992,\n\t\t\"16\": 1.1838732985,\n\t\t\"17\": 0.6707142277,\n\t\t\"18\": 1.7757872413,\n\t\t\"19\": 1.2597629314,\n\t\t\"20\": 1.2592926437,\n\t\t\"21\": 1.591255678,\n\t\t\"22\": 1.1741298861,\n\t\t\"23\": 2.0834988691,\n\t\t\"24\": 1.7448564658,\n\t\t\"25\": 1.0509356347,\n\t\t\"26\": 1.5073314682,\n\t\t\"27\": 1.4379901604,\n\t\t\"28\": 2.2565441397,\n\t\t\"29\": 1.404213351,\n\t\t\"30\": 1.3046580437,\n\t\t\"31\": 0.9435742958,\n\t\t\"32\": 0.7083373529,\n\t\t\"33\": 1.4271506958,\n\t\t\"34\": 1.9626931721,\n\t\t\"35\": 1.2600086319,\n\t\t\"36\": 1.6062375805,\n\t\t\"37\": 1.2602345519,\n\t\t\"38\": 2.2832867901,\n\t\t\"39\": 1.719515212,\n\t\t\"40\": 2.1791558553,\n\t\t\"41\": 1.7018714812,\n\t\t\"42\": 2.0943046384,\n\t\t\"43\": 0.8383702568,\n\t\t\"44\": 1.404694486,\n\t\t\"45\": 2.3567742096,\n\t\t\"46\": 1.6611731096,\n\t\t\"47\": 1.3664794499,\n\t\t\"48\": 1.6608608073,\n\t\t\"49\": 1.8016440495,\n\t\t\"50\": 1.1962660333,\n\t\t\"51\": 2.0264224151,\n\t\t\"52\": 2.0660797791,\n\t\t\"53\": 1.6572699065,\n\t\t\"54\": 1.0201013999,\n\t\t\"55\": 1.5964380435,\n\t\t\"56\": 1.6433887725,\n\t\t\"57\": 1.7935542862,\n\t\t\"58\": 2.5341105696,\n\t\t\"59\": 1.5681698292,\n\t\t\"60\": 1.4832137965,\n\t\t\"61\": 0.6673825046,\n\t\t\"62\": 2.3298901288,\n\t\t\"63\": 1.3736537956,\n\t\t\"64\": 1.5270363292,\n\t\t\"65\": 2.4747877069,\n\t\t\"66\": 1.0965899798,\n\t\t\"67\": 1.8645734583,\n\t\t\"68\": 0.4106281559,\n\t\t\"69\": 2.3566780324,\n\t\t\"70\": 1.2541726056,\n\t\t\"71\": 1.4265057174,\n\t\t\"72\": 2.4797764864,\n\t\t\"73\": 1.8623157346,\n\t\t\"74\": 1.5631520074,\n\t\t\"75\": 1.6730918717,\n\t\t\"76\": 1.3830289178,\n\t\t\"77\": 2.2563192073,\n\t\t\"78\": 1.4696583766,\n\t\t\"79\": 0.7304943724,\n\t\t\"80\": 1.3529801574,\n\t\t\"81\": 1.5027970746,\n\t\t\"82\": 2.3460010761,\n\t\t\"83\": 1.6457706798,\n\t\t\"84\": 2.0197152222,\n\t\t\"85\": 1.4053767672,\n\t\t\"86\": 1.0640404861,\n\t\t\"87\": 1.3456315961,\n\t\t\"88\": 1.8790157397,\n\t\t\"89\": 1.5337356542,\n\t\t\"90\": 2.0890407511,\n\t\t\"91\": 1.6456890051,\n\t\t\"92\": 1.750703967,\n\t\t\"93\": 1.4062853135,\n\t\t\"94\": 1.5986223975,\n\t\t\"95\": 2.1774012998,\n\t\t\"96\": 1.7434766038,\n\t\t\"97\": 1.2101237951,\n\t\t\"98\": 1.7539782233,\n\t\t\"99\": 0.8933229057,\n\t\t\"100\": 0.2474688349,\n\t\t\"101\": 0.1110004675,\n\t\t\"102\": 0.0282859274,\n\t\t\"103\": 0.1169015529,\n\t\t\"104\": 0.0873378628,\n\t\t\"105\": 0.1788892937,\n\t\t\"106\": 0.184303781,\n\t\t\"107\": 0.0747153259,\n\t\t\"108\": 0.2769387623,\n\t\t\"109\": -0.0900818405,\n\t\t\"110\": 0.0733949175,\n\t\t\"111\": 0.2833456832,\n\t\t\"112\": 0.0083655977,\n\t\t\"113\": 0.3372043953,\n\t\t\"114\": 0.2285817183,\n\t\t\"115\": 0.0082504206,\n\t\t\"116\": 0.307490622,\n\t\t\"117\": 0.1145009276,\n\t\t\"118\": 0.2019423307,\n\t\t\"119\": 0.0008354562,\n\t\t\"120\": -0.1130743973,\n\t\t\"121\": -0.2473543353,\n\t\t\"122\": -0.0006302528,\n\t\t\"123\": 0.0851482521,\n\t\t\"124\": 0.293301912,\n\t\t\"125\": 0.4601618525,\n\t\t\"126\": 0.0843088936,\n\t\t\"127\": 0.6793118898,\n\t\t\"128\": -0.1196668846,\n\t\t\"129\": -0.1463627937,\n\t\t\"130\": 0.2511802345,\n\t\t\"131\": -0.3425442505,\n\t\t\"132\": 0.0120582876,\n\t\t\"133\": -0.0022185432,\n\t\t\"134\": 0.1041517971,\n\t\t\"135\": 0.313957358,\n\t\t\"136\": 0.1407613516,\n\t\t\"137\": 0.2622005096,\n\t\t\"138\": 0.1660724099,\n\t\t\"139\": 0.0878323083,\n\t\t\"140\": 0.0292133339,\n\t\t\"141\": -0.2577132774,\n\t\t\"142\": -0.049417556,\n\t\t\"143\": -0.0827495615,\n\t\t\"144\": 0.198339056,\n\t\t\"145\": -0.0708022007,\n\t\t\"146\": 0.1692034915,\n\t\t\"147\": 0.1987969782,\n\t\t\"148\": 0.1007444086,\n\t\t\"149\": 0.1225206078\n\t}\n}\n```\n",
  "id": "cdec1d55-5bb6-8e8d-4571-fbc0ebf5a354",
  "io_interface": {
    "inputs": [
      {
        "data_type": "INT",
        "id": "9861c5a4-1e37-54af-70be-f4e7b81d1f64",
        "name": "n_estimators"
      },
      {
        "data_type": "DATAFRAME",
        "id": "bc5ae666-e1fb-9189-8f72-d681eb5dcfde",
        "name": "test_data"
      },
      {
        "data_type": "DATAFRAME",
        "id": "017e5542-46dd-e1aa-d6f8-4026dcad3d44",
        "name": "train_data"
      }
    ],
    "outputs": [
      {
        "data_type": "ANY",
        "id": "68234ebe-51c0-96b9-c95b-86548f09e79c",
        "name": "trained_model"
      },
      {
        "data_type": "SERIES",
        "id": "4594161b-f878-09c3-ab66-c1803728ea62",
        "name": "decision_function_values"
      }
    ]
  },
  "name": "Isolation Forest",
  "released_timestamp": "2022-02-09T17:33:29.267922+00:00",
  "revision_group_id": "cdec1d55-5bb6-8e8d-4571-fbc0ebf5a354",
  "state": "RELEASED",
  "test_wiring": {
    "input_wirings": [],
    "output_wirings": []
  },
  "type": "COMPONENT",
  "version_tag": "1.0.0"
}